function P(t){var r=P.map[Object.prototype.toString.call(t)],e=t;return r&&(e=P.name[r](t)),e}var NATIVE=function(){"use strict";function t(t){for(var r=Array.prototype.slice.call(arguments,1),e=r.length,n=0,o="";e>n;){for(o in r[n])p.call(r[n],o)&&(t[o]=r[n][o]);n+=1}return t}function r(t,r){var e=this.parent;this.prototype[t]="function"==typeof r&&"function"==typeof e[t]&&s.test(r)?function(t,r){return function(){var n="$super"in this,o=this.$super,i=null;return this.$super=e[t],i=r.apply(this,arguments),n?this.$super=o:delete this.$super,i}}(t,r):r}function e(t){var e="";for(e in t)p.call(t,e)&&r.call(this,e,t[e])}function n(t,n){t&&"object"==typeof t?e.call(this,t):r.call(this,t,n)}function o(t,r){function o(){this.init.apply(this,arguments)}var a=i;return r||(r=t,t=Object),o.parent=t.prototype,a.prototype=t.prototype,o.prototype=new a,e.call(o,r),o.prototype.constructor=o,"function"!=typeof o.prototype.init&&(o.prototype.init=i),o.extend=n,o}var i=function(){},a={},u=null,c=null,p=Object.prototype.hasOwnProperty,s=/xyz/.test(function(){})?/[\.'"]\$super\b/:/.*/;return u=o({init:function(t){return this.value=this.coerce(t),this},coerce:function(t){return t},toString:function(){return String(this.value)},toNative:function(){return this.value}}),c=o(u,{init:function(t){return this.$super(t),this.clearArray(),this.simArray(this.toArray()),this},clearArray:function(){for(;this.length;)Array.prototype.pop.call(this)},toArray:function(){return Array.prototype.slice.call(this)},simArray:function(t){Array.prototype.push.apply(this,t)}}),t(a,{makeWrapper:function(r){var e=r.prototype,o=function(t){return new r(t)};return t(o,{extend:n.bind(r),has:function(t){return t in e}}),o},createClass:o,extendObject:t,Primative:u,ArrayLike:c,createPrimative:o.bind(null,u),createArrayLike:o.bind(null,c)}),a}();P.map={"[object Array]":"A","[object Boolean]":"B","[object Function]":"F","[object Number]":"N","[object Object]":"O","[object String]":"S"},P.name=window;var A=function(t){"use strict";var r=t.createArrayLike({coerce:function(t){return this.toArray.call(t)}}),e=t.makeWrapper(r),n=Array.prototype;return["concat","reverse","sort","slice","splice"].forEach(function(t){r.prototype[t]=function(){return this.init(n[t].apply(this.value,arguments))}}),["pop","push","shift","unshift"].forEach(function(t){r.prototype[t]=function(){var r=this.value,e=n[t].apply(r,arguments);return this.init(r),P(e)}}),["every","filter","forEach","indexOf","lastIndexOf","map","some","reduce","reduceRight"].forEach(function(t){r.prototype[t]=function(){return P(n[t].apply(this.value,arguments))}}),e.isArray=Array.isArray,e}(NATIVE),B=function(t){"use strict";var r=t.createPrimative({coerce:function(t){return!!t},toString:function(){return this.value?"true":"false"}});return t.makeWrapper(r)}(NATIVE),F=function(t){"use strict";var r=t.createPrimative({init:function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");this.$super(t)},toString:function(){return this.value.toString()}});return["apply","bind","call"].forEach(function(t){r.prototype[t]=function(){return P(Function.prototype[t].apply(this,arguments))}}),t.makeWrapper(r)}(NATIVE),N=function(t){"use strict";var r=t.createPrimative({coerce:function(t){return+t}});return["toExponential","toFixed","toLocaleString","toPrecision"].forEach(function(t){r.prototype[t]=function(){return P(Number.prototype[t].apply(this.value,arguments))}}),t.makeWrapper(r)}(NATIVE),O=function(t){"use strict";var r=t.createPrimative({coerce:function(t){return Object(t)}}),e=t.makeWrapper(r);return["hasOwnProperty","isPrototypeOf","propertyIsEnumerable"].forEach(function(t){r.prototype[t]=function(){return P(Object.prototype[t].apply(this.value,arguments))}}),["create","defineProperty","defineProperties","freeze","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys","preventExtensions","seal"].forEach(function(t){e[t]=function(){return P(Object[t].apply(null,arguments))}}),e}(NATIVE),S=function(t){"use strict";var r=t.createArrayLike({coerce:function(t){return String(t)},toArray:function(){return this.value.split("")},split:function(t){return P(this.value.split(t||""))}});return["charAt","concat","replace","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"].forEach(function(t){r.prototype[t]=function(){return this.init(String.prototype[t].apply(this.value,arguments))}}),["charCodeAt","indexOf","lastIndexOf","localeCompare","search"].forEach(function(t){r.prototype[t]=function(){return P(String.prototype[t].apply(this.value,arguments))}}),["match"].forEach(function(t){r.prototype[t]=function(){return P(String.prototype[t].apply(this.value,arguments))}}),t.makeWrapper(r)}(NATIVE);